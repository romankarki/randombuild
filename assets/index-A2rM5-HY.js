import{R as r,d as I,j as a,e as k,r as g,M as E}from"./index-_AWSBuUU.js";import{b as P}from"./Constants-DGXMJ-DT.js";import{a as W}from"./apiClient-BdZFA0eS.js";import{T as N,a as w,e as B,c as C,d as f,b as D}from"./TableRow-DhcXuOZB.js";import{T as A}from"./Tooltip-CODIja-Z.js";import{R as G,G as L,A as H}from"./GetValuesFromLocalStorage-idXzu9Sl.js";import{T as O}from"./TablePagination-BxifiRkg.js";import{B as U}from"./Button-CJj7kHSd.js";import{T as M}from"./TextField-BObO4OcV.js";import"./Select-eC4K4ZSx.js";import"./MenuItem-CallC8N8.js";import"./InputLabel-B7cXIkNh.js";const y=[{id:"id",label:"Id",minWidth:170},{id:"serviceId",label:"Service ID",minWidth:160},{id:"title",label:"Service Title",minWidth:100},{id:"isTTSContent",label:"Is Text To Speech",minWidth:100},{id:"companyName",label:"Company Name",minWidth:100},{id:"branchName",label:"Branch Name",minWidth:160},{id:"action",label:"Action",minWidth:170,align:"center"}],z=({companyId:s})=>{const[l,c]=r.useState(0),[o,d]=r.useState(10),[m,u]=r.useState([]),x=I();async function v(){const e=P+"/KioskServiceDetail/get-service-detail/"+s,t=await W(e);u(t)}r.useEffect(()=>{v()},[s]);const b=(e,t)=>{c(t)},j=e=>{d(+e.target.value),c(0)},i=(e,t)=>{console.log("this is current row",e),x("/edit/servicedetail/"+(e==null?void 0:e.id)+"/"+(e==null?void 0:e.companyId))};return a.jsxs(k,{sx:{width:"100%",overflow:"hidden"},children:[a.jsx(N,{sx:{maxHeight:440},children:a.jsxs(w,{stickyHeader:!0,"aria-label":"sticky table",children:[a.jsx(B,{children:a.jsx(C,{children:y.map(e=>a.jsx(f,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id))})}),a.jsx(D,{children:m.slice(l*o,l*o+o).map(e=>a.jsx(C,{hover:!0,role:"checkbox",tabIndex:-1,children:y.map(t=>{const n=e[t.id];return t.id=="action"?a.jsx(f,{align:t.align,children:a.jsx(A,{title:"Edit Information",arrow:!0,children:a.jsx(G,{onClick:()=>i(e)})})},t.id):t.id==="isTTSContent"?a.jsx(f,{align:t.align,children:n==!0||n=="true"?"Yes":"No"},t.id):a.jsx(f,{align:t.align,children:t.format&&typeof n=="number"?t.format(n):n},t.id)})},e.id))})]})}),a.jsx(O,{rowsPerPageOptions:[10,25,100],component:"div",count:m.length,rowsPerPage:o,page:l,onPageChange:b,onRowsPerPageChange:j})]})},F=z;function ae(){const[s,l]=r.useState([]),[c,o]=g.useState(""),[d,m]=g.useState(0),u=(i,e)=>{o(e);let t=s==null?void 0:s.filter(n=>n.name==e)[0];t&&m(t.id)};async function x(){const i=sessionStorage.getItem("user")||{},e=JSON.parse(i),t=(e==null?void 0:e.token)||"",n=P+"/Company/get-companies",S=await fetch(n,{method:"GET",headers:{Authorization:"Bearer "+t}});S.ok||alert("someting went wrong");const p=await S.json();l(p);let T=p==null?void 0:p.filter(R=>R.id==e.companyId),h=(T==null?void 0:T.pop())||null;h&&(o(h.name),m(h==null?void 0:h.id))}r.useEffect(()=>{x()},[]);const v=L();g.useEffect(()=>{},[c]),g.useEffect(()=>{},[d]);const b=I(),j=()=>{b("/add/servicedetail/"+d)};return a.jsxs(E,{title:"Services Detail",children:[a.jsxs("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(U,{onClick:j,variant:"contained",disableElevation:!0,children:"Add New Service Info"}),v.toLowerCase()==="superadmin"&&a.jsx(H,{inputValue:c,onInputChange:(i,e)=>u(i,e),sx:{width:"400px"},id:"disable-close-on-select",options:s.map(i=>i.name),getOptionLabel:i=>i,renderInput:i=>a.jsx(M,{...i,placeholder:"Showing Default Company",variant:"standard"})})]}),a.jsx(F,{companyId:d})]})}export{ae as default};
