import{d as W,r as s,j as e,M as V,F as _}from"./index-DXOqlz8S.js";import{h as G,a as H}from"./apiClient-BdZFA0eS.js";import{b as C}from"./Constants-DP-d7XJz.js";import{T as r}from"./TextField-Dwy0TTj8.js";import{S as R}from"./Select-B0zV3ojE.js";import{M as f}from"./MenuItem-DDRGYG7L.js";import{B as z}from"./Button-K3mHJVKx.js";import"./InputLabel-CjDmApQ-.js";const Y=()=>{const h=W(),[d,j]=s.useState(0),[l,y]=s.useState(""),[o,b]=s.useState(new Date),[a,c]=s.useState(new Date),[u,D]=s.useState(""),[m,S]=s.useState(""),[p,T]=s.useState(""),[g,N]=s.useState(""),[v,P]=s.useState(""),[x,w]=s.useState([]),E=async()=>{if(!I())return;let n={TopicName:l,Venue:u,StartDate:o,EndDate:a,CoordinatorName:m,CoordinatorPhoneNumber:p,AssistantCoordinatorName:g,AssistantCoordinatorPhoneNumber:v,CompanyId:d};const q=C+"/Meetings/save-company-meeting-info";await G(q,n),h(-1)},I=()=>{let t=[];l==""&&t.push("Name of Topic is required"),(o==""||o==null)&&t.push("Start Date is required"),(a==""||a==null)&&t.push("End Date is required"),u==""&&t.push("Venue is required"),m==""&&t.push("Coordinator Name is required"),p==""&&t.push("Coordinator Phone Number is required"),d==""&&t.push("Company is required");let n=t.join(`
`);return t.length>0?(alert(n),!1):!0},M=async()=>{const t=C+"/Company/get-companies/",n=await H(t);w(n)};s.useEffect(()=>{M()},[]);const A={PaperProps:{style:{maxHeight:48*4.5+8,width:250}}},i=JSON.parse(sessionStorage.getItem("user"));return e.jsxs(V,{title:"Creating new Meeting",children:[e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Name of Title"}),e.jsx(r,{id:"outlined-basic",value:l,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:t=>{var n;return y((n=t==null?void 0:t.target)==null?void 0:n.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem",display:"flex",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("span",{children:"Start Date: "}),e.jsx("input",{type:"datetime-local",id:"start-date",value:o,onChange:t=>{const n=t.target.value;b(n),a&&new Date(n)>new Date(a)&&c(null)},style:{padding:"0.5rem",border:"1px solid #007bff",borderRadius:"4px",fontSize:"1rem",width:"200px"}})]}),e.jsxs("div",{children:[e.jsx("span",{children:"End Date: "}),e.jsx("input",{type:"datetime-local",id:"end-date",value:a,onChange:t=>{const n=t.target.value;if(new Date(n)<new Date(o)){alert("End date cannot be less than start date");return}c(n)},style:{padding:"0.5rem",border:"1px solid #007bff",borderRadius:"4px",fontSize:"1rem",outline:"none",width:"200px"}})]})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Venue"}),e.jsx(r,{id:"outlined-basic",value:u,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:t=>{var n;return D((n=t==null?void 0:t.target)==null?void 0:n.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Coordinator Name"}),e.jsx(r,{id:"outlined-basic",value:m,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:t=>{var n;return S((n=t==null?void 0:t.target)==null?void 0:n.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Coordinator Phonenumber"}),e.jsx(r,{id:"outlined-basic",variant:"outlined",value:p,autoComplete:"off",fullWidth:!0,onChange:t=>{var n;return T((n=t==null?void 0:t.target)==null?void 0:n.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Assistant Coordinator Name"}),e.jsx(r,{id:"outlined-basic",value:g,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:t=>{var n;return N((n=t==null?void 0:t.target)==null?void 0:n.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Assistant Coordinator Phonenumber"}),e.jsx(r,{id:"outlined-basic",variant:"outlined",value:v,autoComplete:"off",fullWidth:!0,onChange:t=>{var n;return P((n=t==null?void 0:t.target)==null?void 0:n.value)}})]}),e.jsx("div",{style:{marginTop:"0rem"},children:e.jsx(_,{sx:{m:0,minWidth:120},size:"small",children:e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{style:{marginRight:"2rem"},children:"Parent Company"}),e.jsxs(R,{labelId:"demo-select-small-label",id:"demo-select-small",value:Number(d),width:"300px",placeholder:"Choose your Company",MenuProps:A,onChange:t=>{var n;j(Number((n=t==null?void 0:t.target)==null?void 0:n.value))},children:[e.jsx(f,{value:"",children:e.jsx("em",{children:"None"})}),x==null?void 0:x.map(t=>(i==null?void 0:i.role)==="superadmin"?e.jsx(f,{value:t==null?void 0:t.id,children:t==null?void 0:t.name},t==null?void 0:t.id):(t==null?void 0:t.id)===(i==null?void 0:i.companyId)?e.jsx(f,{value:t==null?void 0:t.id,children:t==null?void 0:t.name},t==null?void 0:t.id):null)]})]})})}),e.jsx("br",{}),e.jsx("div",{style:{marginTop:"0.9rem"},children:e.jsx(z,{variant:"contained",onClick:()=>E(),children:"Save Changes"})})]})};export{Y as default};
