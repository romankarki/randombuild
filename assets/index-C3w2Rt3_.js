import{d as T,r as a,j as e,M as I,U as D}from"./index-CehL7CKG.js";import{h as E,a as N}from"./apiClient-BdZFA0eS.js";import{b as l}from"./Constants-CXd7ttqJ.js";import{T as d}from"./TextField-I3LJLRlG.js";import{S as M}from"./Select-DH0DuH6B.js";import{M as m}from"./MenuItem-Bwj8UeyX.js";import{B as P}from"./Button-Dmepa2Q6.js";import"./InputLabel-BFbdLjQg.js";const R=()=>{const u=T(),[n,p]=a.useState(""),[c,b]=a.useState(""),[r,f]=a.useState(""),[i,x]=a.useState(0),[o,y]=a.useState([]),h=async()=>{if(!g())return;let s={details:n,links:c,companyId:i,noOfDaysForExpiry:r};const C=l+"/NewsAndNotice/save-flash-news";await E(C,s),u(-1)},g=()=>{let t=[];i||t.push("Company is mandatory"),n==""&&t.push("Detail is mandatory"),r==""&&t.push("No of day for expiry is mandatory");let s=t.join(`
`);return t.length>0?(alert(s),!1):!0},j=async()=>{const t=l+"/Company/get-companies/",s=await N(t);y(s)};a.useEffect(()=>{j()},[]);const v={PaperProps:{style:{maxHeight:48*4.5+8,width:250}}};return e.jsxs(I,{title:"Creating new Flash news",children:[e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Details"}),e.jsx(d,{id:"outlined-basic",value:n,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:t=>{var s;return p((s=t==null?void 0:t.target)==null?void 0:s.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"No of Days for Expiry"}),e.jsx(d,{id:"outlined-basic",variant:"outlined",value:r,autoComplete:"off",fullWidth:!0,onChange:t=>{var s;return f((s=t==null?void 0:t.target)==null?void 0:s.value)}})]}),e.jsx("div",{style:{marginTop:"0rem"},children:e.jsx(D,{sx:{m:0,minWidth:120},size:"small",children:e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{style:{marginRight:"2rem"},children:"Parent Company"}),e.jsxs(M,{labelId:"demo-select-small-label",id:"demo-select-small",value:Number(i),width:"300px",placeholder:"Choose your Company",MenuProps:v,onChange:t=>{var s;x(Number((s=t==null?void 0:t.target)==null?void 0:s.value))},children:[e.jsx(m,{value:"",children:e.jsx("em",{children:"None"})}),o==null?void 0:o.map(t=>e.jsx(m,{value:t==null?void 0:t.id,children:t==null?void 0:t.name},t==null?void 0:t.id))]})]})})}),e.jsx("div",{style:{marginTop:"0.9rem"},children:e.jsx(P,{variant:"contained",onClick:()=>h(),children:"Save Changes"})})]})};export{R as default};
