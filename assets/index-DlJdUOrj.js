import{R as f,r as p,d as w,j as o,M as b}from"./index-CpCWadZh.js";import{E as R}from"./EmployeeTable-BzxKiBNY.js";import{b as I}from"./Constants-Bro63_Lq.js";import{G as S,A}from"./GetValuesFromLocalStorage-DJA5M7Dr.js";import{B}from"./Button-DLaKrcGl.js";import{T}from"./TextField-1kVY69qX.js";import"./TableRow-BKMUfiBY.js";import"./TablePagination-DOw4zX9r.js";import"./Select-D4PcgPVA.js";import"./MenuItem-4edqsSKK.js";import"./InputLabel-B9cEyF0g.js";function P(){const[n,g]=f.useState([]),[l,c]=p.useState(""),[y,d]=p.useState(1),h=(e,t)=>{c(t);let s=n==null?void 0:n.filter(r=>r.name==t)[0];s&&d(s.id)};async function x(){const e=sessionStorage.getItem("user")||{},t=JSON.parse(e),s=(t==null?void 0:t.token)||"",r=I+"/Company/get-companies",u=await fetch(r,{method:"GET",headers:{Authorization:"Bearer "+s}});u.ok||alert("someting went wrong");const i=await u.json();g(i);let m=i==null?void 0:i.filter(v=>v.id==t.companyId),a=(m==null?void 0:m.pop())||null;a&&(c(a.name),d(a==null?void 0:a.id))}f.useEffect(()=>{x()},[]);const C=w(),j=()=>{C("/add/employee")},E=S();return p.useEffect(()=>{},[l]),o.jsxs(b,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.3rem"},children:[o.jsx(B,{onClick:j,variant:"contained",disableElevation:!0,children:"Add New"}),E.toLowerCase()==="superadmin"?o.jsx(A,{inputValue:l,onInputChange:(e,t)=>h(e,t),sx:{width:"400px"},id:"disable-close-on-select",options:n.map(e=>e.name),getOptionLabel:e=>e,renderInput:e=>o.jsx(T,{...e,placeholder:"Showing Default Company",variant:"standard"})}):null]}),o.jsx(R,{companyid:y})]})}export{P as default};
