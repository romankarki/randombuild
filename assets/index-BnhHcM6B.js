import{d as T,r as a,j as e,M as I,U as D}from"./index-XOIcCbba.js";import{h as E,a as N}from"./apiClient-BLOXFteY.js";import{b as d}from"./Constants-vJoD466B.js";import{T as m}from"./TextField-C1PQa0Uv.js";import{S as M}from"./Select-BcxQ8JV6.js";import{M as u}from"./MenuItem-Dp__eBW9.js";import{B as P}from"./Button-BQ7jNQUq.js";import"./InputLabel-ChZL-UjJ.js";const L=()=>{const p=T(),[n,c]=a.useState(""),[l,b]=a.useState(""),[i,f]=a.useState(""),[r,x]=a.useState(0),[o,y]=a.useState([]),h=async()=>{if(!g())return;let s={details:n,links:l,companyId:r,noOfDaysForExpiry:i};const C=d+"/NewsAndNotice/save-flash-news";await E(C,s),p(-1)},g=()=>{let t=[];r||t.push("Company is mandatory"),n==""&&t.push("Detail is mandatory"),l==""&&t.push("Link is mandatory"),i==""&&t.push("No of day for expiry is mandatory");let s=t.join(`
`);return t.length>0?(alert(s),!1):!0},j=async()=>{const t=d+"/Company/get-companies/",s=await N(t);y(s)};a.useEffect(()=>{j()},[]);const v={PaperProps:{style:{maxHeight:48*4.5+8,width:250}}};return e.jsxs(I,{title:"Creating new Flash news",children:[e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Details"}),e.jsx(m,{id:"outlined-basic",value:n,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:t=>{var s;return c((s=t==null?void 0:t.target)==null?void 0:s.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"No of Days for Expiry"}),e.jsx(m,{id:"outlined-basic",variant:"outlined",value:i,autoComplete:"off",fullWidth:!0,onChange:t=>{var s;return f((s=t==null?void 0:t.target)==null?void 0:s.value)}})]}),e.jsx("div",{style:{marginTop:"0rem"},children:e.jsx(D,{sx:{m:0,minWidth:120},size:"small",children:e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{style:{marginRight:"2rem"},children:"Parent Company"}),e.jsxs(M,{labelId:"demo-select-small-label",id:"demo-select-small",value:Number(r),width:"300px",placeholder:"Choose your Company",MenuProps:v,onChange:t=>{var s;x(Number((s=t==null?void 0:t.target)==null?void 0:s.value))},children:[e.jsx(u,{value:"",children:e.jsx("em",{children:"None"})}),o==null?void 0:o.map(t=>e.jsx(u,{value:t==null?void 0:t.id,children:t==null?void 0:t.name},t==null?void 0:t.id))]})]})})}),e.jsx("div",{style:{marginTop:"0.9rem"},children:e.jsx(P,{variant:"contained",onClick:()=>h(),children:"Save Changes"})})]})};export{L as default};
