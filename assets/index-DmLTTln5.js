import{d as H,r as n,j as e,M as F,F as L}from"./index-DRQ6_V5g.js";import{h as O,a as R}from"./apiClient-BdZFA0eS.js";import{b as j}from"./Constants-CKiQFZHc.js";import{d as c}from"./dayjs.min-VAbvJNDE.js";import{L as v,A as h,D as y}from"./DateTimePicker-Bfw4Bl1D.js";import{T as r}from"./TextField-BJxCmcBS.js";import{S as k}from"./Select-DzrpZOsU.js";import{M as f}from"./MenuItem-CAejK8zD.js";import{B as z}from"./Button-DqR8CO8c.js";import"./DialogContent-Bzmpr93m.js";import"./InputLabel-BfdBC-nT.js";const rt=()=>{const T=H(),[i,b]=n.useState(0),[o,P]=n.useState(""),[l,S]=n.useState(c()),[d,D]=n.useState(c()),[u,N]=n.useState(""),[m,I]=n.useState(""),[p,A]=n.useState(""),[C,E]=n.useState(""),[g,M]=n.useState(""),[x,q]=n.useState([]),W=async()=>{if(!V())return;let s={TopicName:o,Venue:u,StartDate:l,EndDate:d,CoordinatorName:m,CoordinatorPhoneNumber:p,AssistantCoordinatorName:C,AssistantCoordinatorPhoneNumber:g,CompanyId:i};const G=j+"/Meetings/save-company-meeting-info";await O(G,s),T(-1)},V=()=>{let t=[];o==""&&t.push("Name of Topic is required"),l==""&&t.push("Start Date is required"),d==""&&t.push("End Date is required"),u==""&&t.push("Venue is required"),m==""&&t.push("Coordinator Name is required"),p==""&&t.push("Coordinator Phone Number is required"),i==""&&t.push("Company is required");let s=t.join(`
`);return t.length>0?(alert(s),!1):!0},_=async()=>{const t=j+"/Company/get-companies/",s=await R(t);q(s)};n.useEffect(()=>{_()},[]);const w={PaperProps:{style:{maxHeight:48*4.5+8,width:250}}},a=JSON.parse(sessionStorage.getItem("user"));return e.jsxs(F,{title:"Creating new Meeting",children:[e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Name of Title"}),e.jsx(r,{id:"outlined-basic",value:o,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:t=>{var s;return P((s=t==null?void 0:t.target)==null?void 0:s.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem",display:"flex",gap:"1rem"},children:[e.jsx(v,{dateAdapter:h,children:e.jsx(y,{renderInput:t=>e.jsx(r,{...t}),label:"Start Date",value:l,onChange:t=>{S(t)}})}),e.jsx(v,{dateAdapter:h,children:e.jsx(y,{renderInput:t=>e.jsx(r,{...t}),label:"End Date",value:d,onChange:t=>{D(t)}})})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Venue"}),e.jsx(r,{id:"outlined-basic",value:u,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:t=>{var s;return N((s=t==null?void 0:t.target)==null?void 0:s.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Coordinator Name"}),e.jsx(r,{id:"outlined-basic",value:m,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:t=>{var s;return I((s=t==null?void 0:t.target)==null?void 0:s.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Coordinator Phonenumber"}),e.jsx(r,{id:"outlined-basic",variant:"outlined",value:p,autoComplete:"off",fullWidth:!0,onChange:t=>{var s;return A((s=t==null?void 0:t.target)==null?void 0:s.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Assistant Coordinator Name"}),e.jsx(r,{id:"outlined-basic",value:C,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:t=>{var s;return E((s=t==null?void 0:t.target)==null?void 0:s.value)}})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Assistant Coordinator Phonenumber"}),e.jsx(r,{id:"outlined-basic",variant:"outlined",value:g,autoComplete:"off",fullWidth:!0,onChange:t=>{var s;return M((s=t==null?void 0:t.target)==null?void 0:s.value)}})]}),e.jsx("div",{style:{marginTop:"0rem"},children:e.jsx(L,{sx:{m:0,minWidth:120},size:"small",children:e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{style:{marginRight:"2rem"},children:"Parent Company"}),e.jsxs(k,{labelId:"demo-select-small-label",id:"demo-select-small",value:Number(i),width:"300px",placeholder:"Choose your Company",MenuProps:w,onChange:t=>{var s;b(Number((s=t==null?void 0:t.target)==null?void 0:s.value))},children:[e.jsx(f,{value:"",children:e.jsx("em",{children:"None"})}),x==null?void 0:x.map(t=>(a==null?void 0:a.role)==="superadmin"?e.jsx(f,{value:t==null?void 0:t.id,children:t==null?void 0:t.name},t==null?void 0:t.id):(t==null?void 0:t.id)===(a==null?void 0:a.companyId)?e.jsx(f,{value:t==null?void 0:t.id,children:t==null?void 0:t.name},t==null?void 0:t.id):null)]})]})})}),e.jsx("br",{}),e.jsx("div",{style:{marginTop:"0.9rem"},children:e.jsx(z,{variant:"contained",onClick:()=>W(),children:"Save Changes"})})]})};export{rt as default};
