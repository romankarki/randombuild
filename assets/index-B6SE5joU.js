import{R as d,r as u,d as E,j as o,M as b}from"./index-F_InvB2_.js";import{E as R}from"./EmployeeTable-BWs-CSIz.js";import{b as I}from"./Constants-CkXLzHwj.js";import{G as A,A as B}from"./GetValuesFromLocalStorage-CRnmIfqg.js";import{B as S}from"./Button-TZaz7Msl.js";import{T}from"./TextField-BRMWykYP.js";import"./TableRow-B4ADgKte.js";import"./TablePagination-BKbXWyfu.js";import"./Select-Sx36NxJE.js";import"./MenuItem-CHC5mb9d.js";import"./InputLabel-h-ajk-HL.js";function V(){const[n,f]=d.useState([]),[g,m]=u.useState(""),[x,p]=u.useState(1),h=(e,t)=>{m(t);let s=n==null?void 0:n.filter(r=>r.name==t)[0];s&&p(s.id)};async function y(){var c;const e=localStorage.getItem("user")||{},t=JSON.parse(e),s=(t==null?void 0:t.token)||"",r=I+"/Company/get-companies",l=await fetch(r,{method:"GET",headers:{Authorization:"Bearer "+s}});l.ok||alert("someting went wrong");const i=await l.json();f(i);let a=(c=i==null?void 0:i.filter(w=>w.Id==t.companyid))==null?void 0:c.pop();a&&(m(a.name),p(a==null?void 0:a.id))}d.useEffect(()=>{y()},[]);const C=E(),j=()=>{C("/add/employee")},v=A();return o.jsxs(b,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.3rem"},children:[o.jsx(S,{onClick:j,variant:"contained",disableElevation:!0,children:"Add New"}),v.toLowerCase()==="superadmin"?o.jsx(B,{inputValue:g,onInputChange:(e,t)=>h(e,t),sx:{width:"400px"},id:"disable-close-on-select",options:n.map(e=>e.name),getOptionLabel:e=>e,renderInput:e=>o.jsx(T,{...e,variant:"standard"})}):null]}),o.jsx(R,{companyid:x})]})}export{V as default};
