import{d as M,r as l,j as t,M as P,W as x}from"./index-BAwjm5YK.js";import{h as w,a as c}from"./apiClient-OPmdi5JO.js";import{b as r}from"./Constants-Ctlr_h4s.js";import{T as N}from"./TextField-DNL3OJfk.js";import{S as g}from"./Select-CzHIg533.js";import{M as a}from"./MenuItem-Bn-UT2-s.js";import{B as D}from"./Button-AuduvB-A.js";import"./InputLabel-CqTv-JMh.js";const k=()=>{const v=M(),[i,f]=l.useState(""),[o,h]=l.useState(0),[m,j]=l.useState([]),[d,C]=l.useState(null),[u,T]=l.useState([]),I=async()=>{if(!b())return;let s={title:i,branchId:d,companyId:o};const n=r+"/Grievance/save-company-grivance-info";await w(n,s),v(-1)},b=()=>{let e=[];o||e.push("Company is mandatory"),d||e.push("Branch is mandatory"),i==""&&e.push("Title Type is required");let s=e.join(`
`);return e.length>0?(alert(s),!1):!0},E=async()=>{const e=r+"/Company/get-companies/",s=await c(e);j(s)};l.useEffect(()=>{E()},[]);const p={PaperProps:{style:{maxHeight:48*4.5+8,width:250}}},S=async e=>{const s=r+"/Branch/get-all-branches-for-company/"+e;let n=await c(s);T(n)},B=async e=>{const s=r+"/Employee/get-all-company-employees/"+e;let n=await c(s);setEmployees(n)};return t.jsxs(P,{title:"Creating new Service",children:[t.jsxs("div",{style:{marginTop:"0.9rem"},children:[t.jsx("span",{children:"Service Title"}),t.jsx(N,{id:"outlined-basic",value:i,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:e=>{var s;return f((s=e==null?void 0:e.target)==null?void 0:s.value)}})]}),t.jsx("div",{style:{marginTop:"0rem"},children:t.jsx(x,{sx:{m:0,minWidth:120},size:"small",children:t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[t.jsx("p",{style:{marginRight:"2rem"},children:"Company"}),t.jsxs(g,{labelId:"demo-select-small-label",id:"demo-select-small",value:Number(o),width:"300px",placeholder:"Choose your Company",MenuProps:p,onChange:e=>{var s,n,y;h(Number((s=e==null?void 0:e.target)==null?void 0:s.value)),S((n=e==null?void 0:e.target)==null?void 0:n.value),B((y=e==null?void 0:e.target)==null?void 0:y.value)},children:[t.jsx(a,{value:"",children:t.jsx("em",{children:"None"})}),m==null?void 0:m.map(e=>t.jsx(a,{value:e==null?void 0:e.id,children:e==null?void 0:e.name},e==null?void 0:e.id))]})]})})}),t.jsx("div",{style:{marginTop:"0rem"},children:t.jsx(x,{sx:{m:0,minWidth:120},size:"small",children:t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[t.jsx("p",{style:{marginRight:"2rem"},children:"Branch"}),t.jsxs(g,{labelId:"demo-select-small-label",id:"demo-select-small",value:Number(d),width:"300px",placeholder:"Choose your Company",MenuProps:p,onChange:e=>{var s;C((s=e==null?void 0:e.target)==null?void 0:s.value)},children:[t.jsx(a,{value:"",children:t.jsx("em",{children:"None"})}),u==null?void 0:u.map(e=>t.jsx(a,{value:e==null?void 0:e.id,children:e==null?void 0:e.title},e==null?void 0:e.id))]})]})})}),t.jsx("br",{}),t.jsx("div",{style:{marginTop:"0.9rem"},children:t.jsx(D,{variant:"contained",onClick:()=>I(),children:"Save Changes"})})]})};export{k as default};
