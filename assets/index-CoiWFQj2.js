import{d as N,a1 as P,r as n,j as t,M as w,U as p}from"./index-By_f7ebx.js";import{b as E,a as M}from"./apiClient-BLOXFteY.js";import{b as u}from"./Constants-DuPyYaCq.js";import{T as x}from"./TextField-CDYINz3D.js";import{S as h}from"./Select-DQrKUjfe.js";import{M as l}from"./MenuItem-CHD6a2KY.js";import{B as S}from"./Button-oHaFgI0G.js";import"./InputLabel-RhM-iev9.js";const O=()=>{const j=N(),{compid:f}=P(),[a,g]=n.useState([]),[i,y]=n.useState(""),[o,r]=n.useState(0),[d,v]=n.useState("image"),[C,T]=n.useState(null),I=async()=>{let e=new FormData;e.append("text",i),e.append("fileType",d),e.append("companyId",o),e.append("file",C);const s=u+"/NewsAndNotice/save-news-notice";await E(s,e),j(-1)},b=async()=>{const e=u+"/Company/get-companies/",s=await M(e);g(s),r(f)};n.useEffect(()=>{b()},[]);const m={PaperProps:{style:{maxHeight:48*4.5+8,width:250}}};return t.jsxs(w,{title:"Add Record To News & Notice",children:[t.jsxs("div",{style:{marginTop:"0.9rem"},children:[t.jsx("span",{children:"Title"}),t.jsx(x,{id:"outlined-basic",value:i,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:e=>{var s;return y((s=e==null?void 0:e.target)==null?void 0:s.value)}})]}),t.jsxs("div",{style:{marginTop:"0.9rem"},children:[t.jsx("span",{children:"Choose File "}),t.jsx(x,{id:"outlined-basic",variant:"outlined",type:"file",autoComplete:"off",fullWidth:!0,onChange:e=>{var s;return T((s=e==null?void 0:e.target)==null?void 0:s.files[0])}})]}),t.jsx("div",{style:{marginTop:"0rem"},children:t.jsx(p,{sx:{m:0,minWidth:120},size:"small",children:t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[t.jsx("p",{style:{marginRight:"2rem"},children:"Content"}),t.jsxs(h,{labelId:"demo-select-small-label",id:"demo-select-small",value:d,width:"300px",placeholder:"Choose your Content",MenuProps:m,onChange:e=>{var s;return v((s=e==null?void 0:e.target)==null?void 0:s.value)},children:[t.jsx(l,{value:"",children:t.jsx("em",{children:"None"})}),t.jsx(l,{value:"image",children:"Image"}),t.jsx(l,{value:"pdf",children:"PDF"}),t.jsx(l,{values:"video",children:"Video"})]})]})})}),t.jsx("div",{style:{marginTop:"0rem"},children:t.jsx(p,{sx:{m:0,minWidth:120},size:"small",children:t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[t.jsx("p",{style:{marginRight:"2rem"},children:"Company"}),t.jsxs(h,{labelId:"demo-select-small-label",id:"demo-select-small",value:Number(o),width:"300px",placeholder:"Choose your Company",MenuProps:m,onChange:e=>{var s,c;r(Number((s=e==null?void 0:e.target)==null?void 0:s.value)),fetchBranch((c=e==null?void 0:e.target)==null?void 0:c.value)},children:[t.jsx(l,{value:"",children:t.jsx("em",{children:"None"})}),a==null?void 0:a.map(e=>t.jsx(l,{value:e==null?void 0:e.id,children:e==null?void 0:e.name},e==null?void 0:e.id))]})]})})}),t.jsx("br",{}),t.jsx("div",{style:{marginTop:"0.9rem"},children:t.jsx(S,{variant:"contained",onClick:()=>I(),children:"Save Changes"})})]})};export{O as default};
