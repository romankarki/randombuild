import{d as j,r,j as t,M as y,U as h}from"./index-BGoJ6V2n.js";import{h as C,a as T}from"./apiClient-BdZFA0eS.js";import{b as o}from"./Constants-BSkrcWBr.js";import{T as I}from"./TextField-DmZzRM4l.js";import{S}from"./Select-9NQuWRVp.js";import{M as l}from"./MenuItem-DGDIYitf.js";import{B as M}from"./Button-CXsKykIg.js";import"./InputLabel-aAXcJRu9.js";const B=()=>{const m=j(),[a,d]=r.useState(""),[n,p]=r.useState(0),[i,u]=r.useState([]),c=async()=>{if(!x())return;let s={departmentName:a,companyId:n};const g=o+"/KioskService/save-company-service-department";await C(g,s),m(-1)},x=()=>{let e=[];n||e.push("Company is mandatory"),a==""&&e.push("Department Name is required");let s=e.join(`
`);return e.length>0?(alert(s),!1):!0},v=async()=>{const e=o+"/Company/get-companies/",s=await T(e);u(s)};r.useEffect(()=>{v()},[]);const f={PaperProps:{style:{maxHeight:48*4.5+8,width:250}}};return t.jsxs(y,{title:"Creating new Service",children:[t.jsxs("div",{style:{marginTop:"0.9rem"},children:[t.jsx("span",{children:"Service Department Name"}),t.jsx(I,{id:"outlined-basic",value:a,variant:"outlined",autoComplete:"off",fullWidth:!0,onChange:e=>{var s;return d((s=e==null?void 0:e.target)==null?void 0:s.value)}})]}),t.jsx("div",{style:{marginTop:"0rem"},children:t.jsx(h,{sx:{m:0,minWidth:120},size:"small",children:t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[t.jsx("p",{style:{marginRight:"2rem"},children:"Company"}),t.jsxs(S,{labelId:"demo-select-small-label",id:"demo-select-small",value:Number(n),width:"300px",placeholder:"Choose your Company",MenuProps:f,onChange:e=>{var s;p(Number((s=e==null?void 0:e.target)==null?void 0:s.value))},children:[t.jsx(l,{value:"",children:t.jsx("em",{children:"None"})}),i==null?void 0:i.map(e=>t.jsx(l,{value:e==null?void 0:e.id,children:e==null?void 0:e.name},e==null?void 0:e.id))]})]})})}),t.jsx("br",{}),t.jsx("div",{style:{marginTop:"0.9rem"},children:t.jsx(M,{variant:"contained",onClick:()=>c(),children:"Save Changes"})})]})};export{B as default};
