import{r as l,j as e,M as j,F as v}from"./index-DXOqlz8S.js";import{h as y,a as C}from"./apiClient-BdZFA0eS.js";import{b as u}from"./Constants-DP-d7XJz.js";import{T as o}from"./TextField-Dwy0TTj8.js";import{S as w}from"./Select-B0zV3ojE.js";import{M as d}from"./MenuItem-DDRGYG7L.js";import{B as P}from"./Button-K3mHJVKx.js";import"./InputLabel-CjDmApQ-.js";function W(){const[t,i]=l.useState({emailAddress:"",password:"",confirmPassword:"",userName:"",firstName:"",lastName:"",companyId:1}),[a,p]=l.useState([]),[m,f]=l.useState(1),x=async()=>{if(console.log("Data being submitted is",t),t.companyId=m,t.password!=t.confirmPassword)return alert("Password and Confirm Password should match"),null;const s=u+"/User/register-user";let r=await y(s,t);r!=null&&r.userID&&(alert("Successfully Created Your User"),i({emailAddress:"",password:"",confirmPassword:"",userName:"",firstName:"",lastName:"",companyId:1}))},c={PaperProps:{style:{maxHeight:48*4.5+8,width:250}}},g=async()=>{const s=u+"/Company/get-companies/",r=await C(s);p(r)};l.useEffect(()=>{g()},[]);const n=JSON.parse(sessionStorage.getItem("user"));return e.jsxs(j,{title:"Add a new User",children:[e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Email Address"}),e.jsx(o,{id:"outlined-basic",value:t==null?void 0:t.emailAddress,onChange:s=>{var r;i({...t,emailAddress:(r=s==null?void 0:s.target)==null?void 0:r.value})},variant:"outlined",autoComplete:"off",fullWidth:!0})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Password"}),e.jsx(o,{type:"password",id:"outlined-basic",value:t==null?void 0:t.password,onChange:s=>{var r;i({...t,password:(r=s==null?void 0:s.target)==null?void 0:r.value})},variant:"outlined",autoComplete:"off",fullWidth:!0})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Confirm Password"}),e.jsx(o,{type:"password",id:"outlined-basic",value:t==null?void 0:t.confirmPassword,onChange:s=>{var r;i({...t,confirmPassword:(r=s==null?void 0:s.target)==null?void 0:r.value})},variant:"outlined",autoComplete:"off",fullWidth:!0})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"First Name"}),e.jsx(o,{id:"outlined-basic",value:t==null?void 0:t.firstName,onChange:s=>{var r;i({...t,firstName:(r=s==null?void 0:s.target)==null?void 0:r.value})},variant:"outlined",autoComplete:"off",fullWidth:!0})]}),e.jsxs("div",{style:{marginTop:"0.9rem"},children:[e.jsx("span",{children:"Last Name"}),e.jsx(o,{id:"outlined-basic",value:t==null?void 0:t.lastName,onChange:s=>{var r;i({...t,lastName:(r=s==null?void 0:s.target)==null?void 0:r.value})},variant:"outlined",autoComplete:"off",fullWidth:!0})]}),e.jsx("div",{style:{marginTop:"0rem"},children:e.jsx(v,{sx:{m:0,minWidth:120},size:"small",children:e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{style:{marginRight:"2rem"},children:"Employee Company"}),e.jsxs(w,{labelId:"demo-select-small-label",id:"demo-select-small",value:Number(m),width:"300px",placeholder:"Choose your Company",MenuProps:c,onChange:s=>{var r;f((r=s==null?void 0:s.target)==null?void 0:r.value)},children:[e.jsx(d,{value:"",children:e.jsx("em",{children:"None"})}),a==null?void 0:a.map(s=>(n==null?void 0:n.role)==="superadmin"?e.jsx(d,{value:s==null?void 0:s.id,children:s==null?void 0:s.name},s==null?void 0:s.id):(s==null?void 0:s.id)===(n==null?void 0:n.companyId)?e.jsx(d,{value:s==null?void 0:s.id,children:s==null?void 0:s.name},s==null?void 0:s.id):null)]})]})})}),e.jsx("div",{style:{marginTop:"0.9rem"},children:e.jsx(P,{variant:"contained",onClick:()=>x(),children:"Save Changes"})})]})}export{W as default};
