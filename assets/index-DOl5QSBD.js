import{R as l,r as d,d as j,j as o,M as v}from"./index-BAwjm5YK.js";import{E}from"./EmployeeTable-hkY-tC2p.js";import{b}from"./Constants-Ctlr_h4s.js";import{B as w}from"./Button-AuduvB-A.js";import{A}from"./Autocomplete-DbP7a9hN.js";import{T as B}from"./TextField-DNL3OJfk.js";import"./TableRow-4YJm6iIj.js";import"./EditOutlined-gDl5BQWR.js";import"./TablePagination-Cns5acdc.js";import"./Select-CzHIg533.js";import"./MenuItem-Bn-UT2-s.js";import"./InputLabel-CqTv-JMh.js";function G(){const[a,u]=l.useState([]),[f,r]=d.useState(""),[g,m]=d.useState(1),x=(e,t)=>{r(t);let n=a==null?void 0:a.filter(i=>i.name==t)[0];n&&m(n.id)};async function y(){var c;const e=localStorage.getItem("user")||{},t=JSON.parse(e),n=(t==null?void 0:t.token)||"",i=b+"/Company/get-companies",p=await fetch(i,{method:"GET",headers:{Authorization:"Bearer "+n}});p.ok||alert("someting went wrong");const s=await p.json();u(s),s.length>0&&(r(s[0].name),m((c=s[0])==null?void 0:c.id))}l.useEffect(()=>{y()},[]);const h=j(),C=()=>{h("/add/employee")};return o.jsxs(v,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.3rem"},children:[o.jsx(w,{onClick:C,variant:"contained",disableElevation:!0,children:"Add New"}),o.jsx(A,{inputValue:f,onInputChange:(e,t)=>x(e,t),sx:{width:"400px"},id:"disable-close-on-select",options:a.map(e=>e.name),getOptionLabel:e=>e,renderInput:e=>o.jsx(B,{...e,variant:"standard"})})]}),o.jsx(E,{companyid:g})]})}export{G as default};
