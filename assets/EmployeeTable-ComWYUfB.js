import{r as s,d as E,j as a,e as w}from"./index-BRiPDprX.js";import{b as v}from"./Constants-C3A6Gqx3.js";import{T as R,a as C,e as W,c as g,d as l,b as k}from"./TableRow-CbL5wReq.js";import{R as L}from"./GetValuesFromLocalStorage-DWh4o8Wy.js";import{T as I}from"./TablePagination-B-yfh3Wz.js";const h=[{id:"id",label:"Id",minWidth:170},{id:"employeeName",label:"Employee Name",minWidth:100},{id:"employeeType",label:"Employee Category",minWidth:170,align:"right"},{id:"employeePriority",label:"Priority",minWidth:170,align:"right"},{id:"employeeLevel",label:"Level",minWidth:170,align:"right"},{id:"action",label:"Action",minWidth:170,align:"center"}],S=({companyid:r})=>{const[o,d]=s.useState(0),[n,p]=s.useState(10),[c,y]=s.useState([]);async function b(){const e=sessionStorage.getItem("user")||{},t=JSON.parse(e),i=(t==null?void 0:t.token)||"",u=v+"/Employee/get-all-company-employees/"+r,m=await fetch(u,{method:"GET",headers:{Authorization:"Bearer "+i}});m.ok||alert("someting went wrong");const T=await m.json();y(T)}s.useEffect(()=>{b()},[r]);const x=(e,t)=>{d(t)},f=e=>{p(+e.target.value),d(0)},P=E(),j=(e,t)=>{console.log("currently selected item is ....",e),P("/edit/employee/"+e.id)};return a.jsxs(w,{sx:{width:"100%",overflow:"hidden"},children:[a.jsx(R,{sx:{maxHeight:440},children:a.jsxs(C,{stickyHeader:!0,"aria-label":"sticky table",children:[a.jsx(W,{children:a.jsx(g,{children:h.map(e=>a.jsx(l,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id))})}),a.jsx(k,{children:c.slice(o*n,o*n+n).map(e=>a.jsx(g,{hover:!0,role:"checkbox",tabIndex:-1,children:h.map(t=>{if(t.id=="action")return a.jsx(l,{align:t.align,children:a.jsx(L,{onClick:()=>j(e)})},t.id);const i=e[t.id];return a.jsx(l,{align:t.align,children:t.format&&typeof i=="number"?t.format(i):i},t.id)})},e.id))})]})}),a.jsx(I,{rowsPerPageOptions:[10,25,100],component:"div",count:c.length,rowsPerPage:n,page:o,onPageChange:x,onRowsPerPageChange:f})]})},z=S;export{z as E};
