import{R as f,r as p,d as w,j as o,M as b}from"./index-DTwxqu1t.js";import{E as R}from"./EmployeeTable-CabbcMbB.js";import{b as I}from"./Constants-Aq5C2dlb.js";import{G as S,A}from"./GetValuesFromLocalStorage-DjeFguS9.js";import{B}from"./Button-DsFXmZBL.js";import{T}from"./TextField-BrIKXlBB.js";import"./TableRow-BDZ5NjWB.js";import"./TablePagination-Bx9oX9wD.js";import"./Select-Cg_d5LfK.js";import"./MenuItem-C1BekbPD.js";import"./InputLabel-B5_iZlRn.js";function P(){const[n,g]=f.useState([]),[l,c]=p.useState(""),[y,d]=p.useState(1),h=(e,t)=>{c(t);let s=n==null?void 0:n.filter(r=>r.name==t)[0];s&&d(s.id)};async function x(){const e=sessionStorage.getItem("user")||{},t=JSON.parse(e),s=(t==null?void 0:t.token)||"",r=I+"/Company/get-companies",u=await fetch(r,{method:"GET",headers:{Authorization:"Bearer "+s}});u.ok||alert("someting went wrong");const i=await u.json();g(i);let m=i==null?void 0:i.filter(v=>v.id==t.companyId),a=(m==null?void 0:m.pop())||null;a&&(c(a.name),d(a==null?void 0:a.id))}f.useEffect(()=>{x()},[]);const C=w(),j=()=>{C("/add/employee")},E=S();return p.useEffect(()=>{},[l]),o.jsxs(b,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.3rem"},children:[o.jsx(B,{onClick:j,variant:"contained",disableElevation:!0,children:"Add New"}),E.toLowerCase()==="superadmin"?o.jsx(A,{inputValue:l,onInputChange:(e,t)=>h(e,t),sx:{width:"400px"},id:"disable-close-on-select",options:n.map(e=>e.name),getOptionLabel:e=>e,renderInput:e=>o.jsx(T,{...e,placeholder:"Showing Default Company",variant:"standard"})}):null]}),o.jsx(R,{companyid:y})]})}export{P as default};
