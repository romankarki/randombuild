import{R as g,r,d as w,j as o,M as b}from"./index-DRQ6_V5g.js";import{E as R}from"./EmployeeTable-BU-JinLQ.js";import{b as I}from"./Constants-CKiQFZHc.js";import{G as S,A}from"./GetValuesFromLocalStorage-DQxbD9dv.js";import{B}from"./Button-DqR8CO8c.js";import{T}from"./TextField-BJxCmcBS.js";import"./TableRow-FFJ8GyVX.js";import"./TablePagination-C0v0Tjz_.js";import"./Select-DzrpZOsU.js";import"./MenuItem-CAejK8zD.js";import"./InputLabel-BfdBC-nT.js";function P(){const[n,y]=g.useState([]),[l,c]=r.useState(""),[d,u]=r.useState(1),h=(e,t)=>{c(t);let s=n==null?void 0:n.filter(m=>m.name==t)[0];s&&u(s.id)};async function x(){const e=sessionStorage.getItem("user")||{},t=JSON.parse(e),s=(t==null?void 0:t.token)||"",m=I+"/Company/get-companies",f=await fetch(m,{method:"GET",headers:{Authorization:"Bearer "+s}});f.ok||alert("someting went wrong");const i=await f.json();y(i);let p=i==null?void 0:i.filter(v=>v.id==t.companyId),a=(p==null?void 0:p.pop())||null;a&&(c(a.name),u(a==null?void 0:a.id))}g.useEffect(()=>{x()},[]);const C=w(),E=()=>{C("/add/employee")},j=S();return r.useEffect(()=>{},[l]),r.useEffect(()=>{},[d]),o.jsxs(b,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.3rem"},children:[o.jsx(B,{onClick:E,variant:"contained",disableElevation:!0,children:"Add New"}),j.toLowerCase()==="superadmin"?o.jsx(A,{inputValue:l,onInputChange:(e,t)=>h(e,t),sx:{width:"400px"},id:"disable-close-on-select",options:n.map(e=>e.name),getOptionLabel:e=>e,renderInput:e=>o.jsx(T,{...e,placeholder:"Showing Default Company",variant:"standard"})}):null]}),o.jsx(R,{companyid:d})]})}export{P as default};
